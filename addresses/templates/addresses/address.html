{% extends 'base.html' %}
{% load static %}

{% block extra-headers %}
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="{% static 'addresses/css/style.css' %}">
{% endblock %}

{% block title %}
    <title>چاپ لِس | آدرس</title>
{% endblock %}

{% block content %}

<div class="content">

    <div class="section fade-in">
        <h2><i class="fas fa-truck"></i> آدرس  </h2>
        
        <form class="address-form"  method="post" id="addressForm">
            {% csrf_token %}
            
            <div class="form-group">
                <label for="name" class="required">
                    <i class="fas fa-user"></i> نام و نام‌خانوادگی
                </label>
                {{ form.name }}
            </div>


            <div class="form-group">
                <label for="phone_number" class="required">
                    <i class="fas fa-phone"></i> شماره تماس
                </label>
                {{ form.phone_number }}
            </div>

            <div class="form-group">
                <label for="email">
                    <i class="fas fa-envelope"></i>  ایمیل(اختیاری)
                </label>
                {{ form.email }}
            </div>


            <div class="form-group">
                <label for="province" class="required">
                    <i class="fas fa-map-marker-alt"></i> استان
                </label>
                {{ form.province }}
            </div>

            <div class="form-group">
                <label for="city" class="required">
                    <i class="fas fa-city"></i> شهر
                </label>
                {{ form.city }}
            </div>

            <div class="form-group">
                <label for="post_code" >
                    <i class="fas fa-map-pin"></i> کد پستی(اختیاری) 
                </label>
                {{ form.post_code }}
            </div>


            
            <div class="form-group full-width">
                <label for="complete_address" class="required">
                    <i class="fas fa-home"></i> آدرس کامل
                </label>
                {{ form.complete_address }}
            </div>

            {{ form.lat }}
            {{ form.lng }}
            
            <div class="form-group full-width">
                <div class="map-section">
                    <div class="map-header">
                        <div class="map-title">
                            <i class="fas fa-map-marked-alt"></i> انتخاب موقعیت روی نقشه
                        </div>
                        <div class="location-search">
                            <input type="text" id="mapSearch" placeholder="جستجوی  منطقه یا شهر ...">
                            <button type="button" onclick="searchLocation()">
                                <i class="fas fa-search"></i> جستجو
                            </button>
                        </div>
                    </div>
                    
                    <div class="map-instructions">
                        <i class="fas fa-info-circle"></i>برای دقت بیشتر در تحویل، می‌توانید موقعیت خود را روی نقشه مشخص کنید. (روی مکان خود کلیک کنید)
                    </div>
                    
                    <div class="map-container">
                        <div id="addressMap"></div>
                    </div>
                </div>
            </div>


            
            <div class="action-buttons full-width">
                <button type="submit" class="action-btn submit-btn">
                     ثبت اطلاعات 
                    <i class="fas fa-arrow-left"></i>
                </button>
            </div>
        </form> 
    </div>
</div>

{% endblock   %}



{% block extra-scripts %}
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script> 
    <script src="{% static 'addresses/js/script.js' %}"></script>
{% endblock %}












