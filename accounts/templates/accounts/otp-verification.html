{% extends 'base.html' %}
{% load static %}

{% block extra-headers %}
    <link rel="stylesheet" href="{% static 'accounts/css/otp-verification-style.css' %}">
{% endblock %}

{% block title %}
    <title>چاپ لِس | تایید کد احراز هویت</title>
{% endblock %}

{% block content %}

<div class="content">
    <div class="otp-container">
        <div class="otp-header">
            <div class="otp-icon">
                <i class="fas fa-mobile-alt"></i>
            </div>
            <h1>تأیید شماره موبایل</h1>
            <p>کد تأیید به شماره زیر ارسال شد:</p>
            <div class="phone-number" id="phoneNumber">{{ phone_number }}</div>
        {% if error %}
            <p style="color: red;">{{ error }}</p>
        
        {% else %}
            <p>لطفاً کد ۵ رقمی دریافتی را در فیلد زیر وارد کنید</p>
        {% endif %}
    
        </div>
        
        <form class="otp-form" action="" method="post">
            {% csrf_token %}
            <div class="form-group">
                <label for="otp">کد تأیید</label>
                 {{ form.code }}
            </div>
            
            <button type="submit" class="submit-btn" id="verifyOtpBtn" disabled>
                <i class="fas fa-check-circle"></i>
                تأیید و ادامه
            </button>
        </form>
        
        <div class="resend-container">
            <p class="resend-code">کد را دریافت نکرده‌اید؟ 
                <span id="countdown" class="countdown">02:00</span>
            </p>
            <button type="button" class="resend-btn" id="resendBtn" disabled data-url="{% url 'accounts:user_register' %}">
                <i class="fas fa-redo-alt"></i>
                ارسال مجدد کد
            </button>
        </div>
        
        <div class="otp-footer">
            <p>در صورت مشکل در دریافت کد، <a href="#">با پشتیبانی (۰۷۹ ۶۹ ۵۹ ۰۹۲۰) تماس بگیرید</a></p>
        </div>
    </div>
</div>

{% endblock   %}



{% block extra-scripts %}
    <script src="{% static 'accounts/js/otp-verification-script.js' %}"></script>
{% endblock %}









